{
  "$schema": "https://json-schema.org/draft/2020-12/schema",
  "description": "Hermes distributed project configuration. Defines projects managed by this Hermes instance, supporting local workspaces, Google Workspace, and federated remote Hermes instances.",
  "version": "1.0.0-alpha",
  "projects": [
    {
      "projectId": "hermes-testing",
      "title": "Hermes Testing Environment",
      "friendlyName": "Hermes Testing",
      "tla": "TEST",
      "description": "Local testing workspace for Hermes development",
      "status": "active",
      "providers": [
        {
          "type": "local",
          "migrationStatus": "active",
          "config": {
            "workspacePath": "./testing/workspace_data",
            "gitRepository": "https://github.com/hashicorp-forge/hermes",
            "gitBranch": "main",
            "allowedFileExtensions": ["md", "txt", "json", "yaml", "yml"],
            "indexingEnabled": true
          }
        }
      ],
      "metadata": {
        "createdAt": "2025-10-22T00:00:00Z",
        "owner": "hermes-dev-team",
        "tags": ["testing", "development", "local"]
      }
    },
    {
      "projectId": "hermes-docs",
      "title": "Hermes Documentation (CMS)",
      "friendlyName": "Hermes Documentation",
      "tla": "DOCS",
      "description": "Public documentation for the open-source Hermes project",
      "status": "active",
      "providers": [
        {
          "type": "local",
          "migrationStatus": "active",
          "config": {
            "workspacePath": "./docs-cms",
            "gitRepository": "https://github.com/hashicorp-forge/hermes",
            "gitBranch": "main",
            "allowedFileExtensions": ["md", "mdx"],
            "indexingEnabled": true,
            "publicReadAccess": true
          }
        }
      ],
      "metadata": {
        "createdAt": "2025-10-22T00:00:00Z",
        "owner": "hermes-dev-team",
        "tags": ["documentation", "public", "cms"]
      }
    },
    {
      "projectId": "example-migration-scenario",
      "title": "Example: RFC Migration from Google to Git",
      "friendlyName": "Request for Comments",
      "tla": "RFC",
      "description": "Example showing RFC project migrating from Google Workspace to local Git (disabled in OSS testing)",
      "status": "archived",
      "providers": [
        {
          "type": "google",
          "migrationStatus": "source",
          "migrationStartedAt": "2025-09-01T00:00:00Z",
          "config": {
            "workspaceId": "example-workspace-id",
            "sharedDriveIds": ["example-drive-id-rfc"],
            "serviceAccountEmail": "hermes@example-project.iam.gserviceaccount.com",
            "credentialsPath": "/path/to/credentials.json",
            "indexingEnabled": true,
            "_comment": "Source provider during migration. Documents being migrated FROM here."
          }
        },
        {
          "type": "local",
          "migrationStatus": "target",
          "migrationStartedAt": "2025-09-01T00:00:00Z",
          "config": {
            "workspacePath": "./rfcs",
            "gitRepository": "https://github.com/example-org/rfcs",
            "gitBranch": "main",
            "allowedFileExtensions": ["md"],
            "indexingEnabled": true,
            "_comment": "Target provider during migration. Documents being migrated TO here."
          }
        }
      ],
      "metadata": {
        "createdAt": "2025-09-01T00:00:00Z",
        "owner": "example-team",
        "tags": ["example", "migration", "google-to-git", "template"],
        "notes": "Example showing active migration with both source and target providers. Hermes tracks content hash to detect conflicts during migration."
      }
    },
    {
      "projectId": "example-google-workspace",
      "title": "Example: Pure Google Workspace Project",
      "friendlyName": "Platform Requirements",
      "tla": "PRD",
      "description": "Example configuration for Google Workspace integration (disabled in OSS testing)",
      "status": "archived",
      "providers": [
        {
          "type": "google",
          "migrationStatus": "active",
          "config": {
            "workspaceId": "example-workspace-id",
            "sharedDriveIds": ["example-drive-id-1", "example-drive-id-2"],
            "serviceAccountEmail": "hermes@example-project.iam.gserviceaccount.com",
            "credentialsPath": "/path/to/credentials.json",
            "indexingEnabled": false,
            "_comment": "This is an example only. Real credentials must never be committed to the repository."
          }
        }
      ],
      "metadata": {
        "createdAt": "2025-10-22T00:00:00Z",
        "owner": "example-team",
        "tags": ["example", "google-workspace", "template"],
        "notes": "This is a template/example configuration only. Not active in OSS deployment."
      }
    },
    {
      "projectId": "example-remote-hermes",
      "title": "Example: Remote Hermes Federation",
      "friendlyName": "Enterprise Architecture",
      "tla": "ARCH",
      "description": "Example configuration for federating with a remote Hermes instance (e.g., internal corporate deployment)",
      "status": "archived",
      "providers": [
        {
          "type": "remote-hermes",
          "migrationStatus": "active",
          "config": {
            "hermesUrl": "https://hermes.example.com",
            "apiVersion": "v2",
            "authentication": {
              "method": "oidc",
              "clientId": "hermes-federation-client",
              "tokenEndpoint": "https://auth.example.com/oauth2/token",
              "_comment": "Secrets should be provided via environment variables or secret management, never committed"
            },
            "syncMode": "read-only",
            "cacheTTL": 3600,
            "_comment": "This is an example only for federation with internal/enterprise Hermes deployments"
          }
        }
      ],
      "metadata": {
        "createdAt": "2025-10-22T00:00:00Z",
        "owner": "enterprise-team",
        "tags": ["example", "federation", "remote", "template"],
        "notes": "This demonstrates how Hermes could federate with internal corporate deployments. Not active in OSS."
      }
    }
  ],
  "_documentation": {
    "projectId": {
      "description": "Unique identifier for the project. Must be lowercase, alphanumeric with hyphens (kebab-case).",
      "pattern": "^[a-z0-9][a-z0-9-]*[a-z0-9]$",
      "examples": ["hermes-docs", "platform-rfcs", "security-team"]
    },
    "friendlyName": {
      "description": "Human-readable project name. NOT unique in distributed system. Used in document titles.",
      "examples": ["Request for Comments", "Platform Requirements", "Security Team"]
    },
    "tla": {
      "description": "Three-letter acronym used in document titles. NOT enforced as unique. Examples: RFC, PRD, FRD, ARCH",
      "notes": "Cannot be globally unique in federated system. Used for display/sorting only."
    },
    "providers": {
      "description": "Array of providers for this project. Multiple providers support migration scenarios.",
      "notes": [
        "During migration, a project has both source and target providers",
        "migrationStatus tracks role: 'active', 'source', 'target', 'archived'",
        "Hermes tracks content hash to detect conflicts during migration"
      ]
    },
    "provider.type": {
      "description": "Type of workspace provider",
      "enum": ["local", "google", "remote-hermes"],
      "local": "Local filesystem workspace with optional Git integration",
      "google": "Google Workspace (Docs, Drive) integration",
      "remote-hermes": "Federated remote Hermes instance (read-only or bidirectional sync)"
    },
    "migrationStatus": {
      "description": "Migration role for this provider",
      "enum": ["active", "source", "target", "archived"],
      "active": "Normal operation, single provider",
      "source": "Migration source (being migrated FROM)",
      "target": "Migration target (being migrated TO)",
      "archived": "Migration complete, no longer active"
    },
    "status": {
      "description": "Project status",
      "enum": ["active", "completed", "archived"],
      "active": "Project is actively maintained and indexed",
      "completed": "Project is complete but still searchable",
      "archived": "Project is archived and excluded from active search"
    },
    "document_identification": {
      "description": "Documents use stable UUIDs across migrations",
      "uuid_format": "550e8400-e29b-41d4-a716-446655440000",
      "discovery": [
        "1. Document declares UUID in frontmatter: hermes-uuid: <uuid>",
        "2. If missing, Hermes generates UUID and writes to frontmatter/header",
        "3. UUID is tracked in database as primary identifier"
      ],
      "public_uri": "hermes://uuid/{document-uuid}",
      "internal_uri": "hermes://provider/{project-id}/{provider-type}/{provider-doc-id}",
      "examples": [
        "hermes://uuid/550e8400-e29b-41d4-a716-446655440000 (public link)",
        "hermes://provider/hermes-docs/local/README.md (internal)",
        "hermes://provider/rfcs/google/1a2b3c4d5e6f (internal)"
      ]
    },
    "revisions": {
      "description": "Documents have multiple revisions during migration",
      "model": "Provider-Project-Document-Revision",
      "revision_types": ["detected", "git-commit", "google-version"],
      "content_hash": "SHA-256 hash for drift detection",
      "statuses": ["active", "canonical", "archived", "conflict", "stale"],
      "migration_example": {
        "document_uuid": "550e8400-...",
        "revisions": [
          {
            "provider": "google-workspace",
            "project": "rfcs-old",
            "provider_doc_id": "1a2b3c4d5e6f",
            "content_hash": "sha256:abc123...",
            "status": "source"
          },
          {
            "provider": "local-git",
            "project": "rfcs-new",
            "provider_doc_id": "docs/rfc-001.md",
            "content_hash": "sha256:abc123...",
            "status": "target"
          }
        ],
        "notes": "Same content_hash = successful migration. Different = conflict detected."
      }
    },
    "conflict_detection": {
      "description": "Detect when document is edited during migration",
      "scenarios": [
        "User edits Google Doc while migration in progress",
        "Content hash diverges between source and target",
        "Hermes detects conflict, marks both revisions",
        "UI shows conflict resolution interface"
      ]
    },
    "security": {
      "warnings": [
        "⚠️  NEVER commit real credentials, API keys, or tokens to this repository",
        "⚠️  NEVER include internal HashiCorp/IBM domain names, emails, or project names",
        "⚠️  Use environment variables or secret management for sensitive data",
        "⚠️  Example configurations must use placeholder values only",
        "⚠️  Review all commits for accidental data leakage before pushing"
      ],
      "best_practices": [
        "Use service accounts with minimal required permissions",
        "Rotate credentials regularly",
        "Use separate projects.json for internal deployments (gitignored)",
        "Document security requirements in deployment guides"
      ]
    }
  }
}
